Nicholas Pickering

SIC/XE Assembler 3000

# Invoking the application
Invoke the application by calling:
    ./p4 filename

# Output Files
This program produces two files: a .lst file and a .obj file.

The .lst file contains a description of the results of an assembly operation.
The .obj file contains the final assembled object code.

Both files are located in the same directory as the input file.

# Test Data
The project contains a directory named "data" which contains several test files (3-7), and the result of running
    the assembler on these input files.
These programs are either examples provided by course instructor, modified files from course instructor, or entirely
    original programs written to test the application.

These files may be used to test the application, as well as any well-formed SIC/XE application supported by the
    application SIC/XE Assembler.

# Key Concepts and Algorithms Used

    The Assembler application uses the following algorithm to complete the assembly:

        input file
        if pass 1 completes successfully on the input file
            begin pass 2
            if pass 2 completes successfully on the result of pass 1
                generate the resulting obj file
            else
                provide partially generated object code
        else
            provide attempt to process memory locations

    ## Pass 1
    Pass 1 iterates through each line of the input file to produce a temporary lst record.
    Each line in the input file represents a line item in the lst record.

    Pass 1 follows the following:

        for each line in the input file
            break up the line into appropriate tokens
            determine the properties of the line

            if START is detected
                set Program Location
            if LTORG or END is detected
                process literal stacks

            store label in symbol table if necessary

            add record to lst file at Program Location

            if operation has no opcode
                skip it

            if operation size must be calculated
                calculate the operation size  # bytes, reserved memory

            if literal is encountered
                add literal to appropriate stack

            increment Program Location by operation size

        return the lst file

    ## Pass 2
        Pass 2 iterates through each line of the lst file generated by Pass 1
            to produce object codes for necessary operations.

        Pass 2 follows the following:

            for each line in the lst file
                break up the line into appropriate tokens

                increment the Program Counter

                process comments and unsupported Operations

                handle BASE operation

                process reserved memory, RESW and RESB

                process BYTEs, WORDs and literals

                calculate ni value

                calculate addressing method and xbpe value

                calculate address of operation based on addressing technique
                    relative address is label location - program counter
                    if relative address is not between -2048 and 2047
                        base address is label location - base location
                            process error if base address is larger than 4097

                update the object code for the lst line item

            return the updated lst record

# Parameters
This program requires a valid filename to be passed as the first argument. This filename will be read into the
    program for processing. The file must contain a SIC/XE program.
